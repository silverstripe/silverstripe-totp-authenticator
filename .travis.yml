version: ~> 1.0

import:
  - silverstripe/silverstripe-travis-shared:config/provision/standard-jobs-range-behat-npm.yml

env:
  global:
    - REQUIRE_RECIPE_TESTING="^2"
    - REQUIRE_FRAMEWORKTEST="^0.4.2"
    - SS_MFA_SECRET_KEY=TEST123
    # webauthn is used by behat-extension LoginContext which expects a screen to choose either totp or webauthn when not skipping mfa
    # Require mfa 4.x-dev instead of ^4 as defined in composer for php 8.1 compatibility, this can be removed once a stable php 8.1 
    - REQUIRE_EXTRA="silverstripe/webauthn-authenticator:4.x-dev silverstripe/mfa:4.x-dev"
